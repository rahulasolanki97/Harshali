// Load data from persistent storage on startup
        async function loadData() {
            try {
                const result = await window.storage.get('expense-data');
                if (result && result.value) {
                    const data = JSON.parse(result.value);
                    balance = data.balance || 0;
                    transactions = data.transactions || [];
                    // Convert timestamp strings back to Date objects
                    transactions = transactions.map(t => ({
                        ...t,
                        timestamp: new Date(t.timestamp)
                    }));
                }
                
                updateBalance();
                calculateSummaries();
                renderTransactions();
            } catch (error) {
                console.log('No previous data found, starting fresh');
                updateBalance();
                calculateSummaries();
                renderTransactions();
            }
        }

        // Save data to persistent storage
        async function saveData() {
            try {
                const data = {
                    balance: balance,
                    transactions: transactions
                };
                await window.storage.set('expense-data', JSON.stringify(data));
            } catch (error) {
                console.error('Failed to save data:', error);
            }
        }
